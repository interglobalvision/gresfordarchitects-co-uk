{"version":3,"sources":["main.js"],"names":["bodySingle","jQuery","bodyCat","galleryItems","galleryImages","galleryLength","length","enquire","register","match","each","t","this","imagesLoaded","h","find","height","listen","menuLinks","mobileToggle","posts","homePosts","post","wh","window","document","ready","on","click","$","scrollTop","hasClass","toggleClass","masonry","itemSelector","gutter","delay","css","data","console","log","addClass","last","singleCat","toggleProjectText","viewProjectText","closeProjectText","projectText","emailShare","slideUp","slideDown","hide","show","ScrollTo","first","setTimeout","galleryIndicators","indicators","i","append","children","index","eq","scrollorama","enablePin","blocks","mouseenter","siblings","mouseleave","blockIndex"],"mappings":"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","file":"main.min.js","sourcesContent":["var bodySingle = jQuery('body.single-post');\nvar bodyCat = jQuery('body.category');\n\nvar galleryItems = jQuery('.gallery-item');\nvar galleryImages = jQuery('.gallery-img');\nvar galleryLength = galleryItems.length;\n\n// enquire for js events on css media query events\n// *** this needs to be made lighter if possible ***\nenquire.register('screen and (min-width:1225px)', {\n  match: function() {\n    galleryImages.each(function() {\n      var t = jQuery(this);\n\n      t.imagesLoaded(function() {\n        var h = t.find('img').height();\n\n        t.height(h);\n      });\n    });\n  },\n}).register('screen and (max-width:920px)', {\n  match: function() {\n    galleryImages.each(function() {\n      var t = jQuery(this);\n\n      t.imagesLoaded(function() {\n        var h = t.find('img').height();\n\n        t.height(h);\n      });\n    });\n  },\n}).listen();\n\n// general cache\nvar menuLinks = jQuery('ul#links');\nvar mobileToggle = jQuery('#mobile-toggle');\nvar posts = jQuery('#posts');\nvar homePosts = jQuery('#home-posts');\nvar post = jQuery('#post');\nvar wh = jQuery(window).height();\n\njQuery(document).ready(function() {\n\n  mobileToggle.on({\n    click: function() {\n\n      if ($(window).scrollTop() > $(window).height() && $('#menu').hasClass('mobile-active')) {\n          $(window).scrollTop(0);\n      } else {\n        $('#menu').toggleClass('mobile-active');\n        $(window).scrollTop(0);\n      }\n\n    },\n  });\n\n  // if posts index page set up masonry and fade in when ready\n  if (posts.length) {\n    posts.imagesLoaded(function() {\n      posts.masonry({\n        itemSelector: 'article',\n        gutter: 10,\n      }).delay(200).css('opacity', 1);\n    });\n  }\n\n  if (homePosts.length) {\n    homePosts.imagesLoaded(function() {\n      homePosts.css('opacity', 1);\n    });\n  }\n\n  if (bodyCat.length) {\n    var t = menuLinks.data('cat');\n\n    console.log(t);\n    $('li.' + t).addClass('current');\n  }\n\n  if (bodySingle.length) {\n\n    // fix last gallery item to window height minus extra\n    galleryItems.last().css('min-height', wh - 110);\n\n    // highlight single post category in menu\n    var singleCat = post.data('cat');\n\n    if (singleCat) {\n      $('li.cat-item-' + singleCat).addClass('current-cat');\n    }\n\n  }\n\n  if (bodySingle.length || $('body.page').length) {\n\n    // fade in when images all loaded\n    post.imagesLoaded(function() {\n      post.css('opacity', 1);\n    });\n\n    // toggle to display project text\n    var toggleProjectText = $('#toggle-project-text');\n    var viewProjectText = $('#view-project-text');\n    var closeProjectText = $('#close-project-text');\n    var projectText = $('div#project-text');\n\n    toggleProjectText.on({\n      click: function() {\n        if (projectText.data('state') === false) {\n          if (emailShare.data('state') === true) {\n            emailShare.slideUp(1000, function() {\n              emailShare.data('state', false);\n            }).css('opacity', 0);\n          }\n\n          projectText.slideDown(1000, function() {\n            viewProjectText.hide();\n            closeProjectText.show();\n            projectText.data('state', true).ScrollTo();\n          });\n        } else {\n          projectText.slideUp(1000, function() {\n            closeProjectText.hide();\n            viewProjectText.show();\n            projectText.data('state', false);\n            $('.gallery-item-holder').first().ScrollTo();\n          });\n        }\n      },\n    });\n\n    // toggle to display email drawer\n\n    var emailShare = $('#mail');\n\n    $('li#mail-toggle').on({\n      click: function() {\n        if (emailShare.data('state') === false) {\n          if (projectText.data('state') === true) {\n            projectText.slideUp(1000, function() {\n              closeProjectText.hide();\n              viewProjectText.show();\n              projectText.data('state', false);\n            });\n          }\n\n          emailShare.slideDown(1000, function() {\n            emailShare.data('state', true);\n          }).css('opacity', 1).ScrollTo();\n\n        } else {\n          emailShare.slideUp(1000, function() {\n            emailShare.data('state', false);\n          }).css('opacity', 0).ScrollTo();\n        }\n      },\n    });\n\n    $('nav#close').on({\n      click: function() {\n        emailShare.css('opacity', 0);\n        setTimeout(function() {\n          emailShare.css('z-index', '-1');\n        }, 1000);\n      },\n    });\n\n    // add indicators to header\n    var galleryIndicators = $('#gallery-indicators');\n\n    if (galleryIndicators.length) {\n      var indicators = '';\n\n      for (i = 0; i < galleryLength; i++) {\n        indicators = indicators + '<li><a>&bull;</a></li>';\n      }\n\n      galleryIndicators.append(indicators);\n      galleryIndicators.children('li').on({\n        click: function() {\n          var i = $(this).index();\n\n          galleryItems.eq(i).ScrollTo();\n        },\n      });\n    }\n    // init scrollorama\n    var scrollorama = $.scrollorama({\n      enablePin: false,\n      blocks: '.gallery-item',\n    });\n\n    // gallery caption toggle\n    $('.gallery-caption-toggle').on({\n      mouseenter: function() {\n        $(this).siblings('.gallery-caption').css('opacity', 1);\n      },\n\n      mouseleave: function() {\n        $(this).siblings('.gallery-caption').css('opacity', 0);\n      },\n    });\n\n    // scroller to next on gallery item click, and back to start on bottom click\n    galleryItems.on({\n      click: function() {\n        var index = $(this).index();\n\n        if (index === galleryLength - 1) {\n          galleryItems.first().ScrollTo();\n        } else {\n          galleryItems.eq(index + 1).ScrollTo();\n        }\n      },\n    });\n\n    // scroll up on topbar click\n    $('nav#scroll-up').on({\n      click: function() {\n        galleryItems.eq(scrollorama.blockIndex).ScrollTo();\n      },\n    });\n\n  }\n});"],"sourceRoot":"/source/"}