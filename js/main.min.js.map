{"version":3,"sources":["main.js"],"names":["bodySingle","jQuery","bodyCat","galleryItems","galleryImages","galleryLength","length","enquire","register","match","each","t","this","imagesLoaded","h","find","height","listen","menuLinks","posts","homePosts","post","wh","window","document","ready","masonry","itemSelector","gutter","delay","css","data","console","log","$","addClass","last","singleCat","toggleProjectText","viewProjectText","closeProjectText","projectText","on","click","emailShare","slideUp","slideDown","hide","show","ScrollTo","first","setTimeout","galleryIndicators","indicators","i","append","children","index","eq","scrollorama","enablePin","blocks","mouseenter","siblings","mouseleave","blockIndex"],"mappings":"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","file":"main.min.js","sourcesContent":["  var bodySingle = jQuery('body.single');\n  var bodyCat = jQuery('body.category');\n\n  var galleryItems = jQuery('.gallery-item');\n  var galleryImages = jQuery('.gallery-img');\n  var galleryLength = galleryItems.length;\n\n  // enquire for js events on css media query events\n  // *** this needs to be made lighter if possible ***\n  enquire.register('screen and (min-width:1200px)', {\n    match: function() {\n      galleryImages.each(function() {\n        var t = jQuery(this);\n\n        t.imagesLoaded(function() {\n          var h = t.find('img').height();\n\n          t.height(h);\n        });\n      });\n    },\n  }).register('screen and (max-width:1200px)', {\n    match: function() {\n      galleryImages.each(function() {\n        var t = jQuery(this);\n\n        t.imagesLoaded(function() {\n          var h = t.find('img').height();\n\n          t.height(h);\n        });\n      });\n    },\n  }).register('screen and (max-width:920px)', {\n    match: function() {\n      galleryImages.each(function() {\n        var t = jQuery(this);\n\n        t.imagesLoaded(function() {\n          var h = t.find('img').height();\n\n          t.height(h);\n        });\n      });\n    },\n  }).listen();\n\n  // general cache\n  var menuLinks = jQuery('ul#links');\n  var posts = jQuery('#posts');\n  var homePosts = jQuery('#home-posts');\n  var post = jQuery('#post');\n  var wh = jQuery(window).height();\n\n  jQuery(document).ready(function() {\n\n    // if posts index page set up masonry and fade in when ready\n    if (posts.length) {\n      posts.imagesLoaded(function() {\n        posts.masonry({\n          itemSelector: 'article',\n          gutter: 10,\n        }).delay(200).css('opacity', 1);\n      });\n    }\n\n    if (homePosts.length) {\n      homePosts.imagesLoaded(function() {\n        homePosts.css('opacity', 1);\n      });\n    }\n\n    if (bodyCat.length) {\n      var t = menuLinks.data('cat');\n\n      console.log(t);\n      $('li.' + t).addClass('current');\n    }\n\n    if (bodySingle.length) {\n\n      // fix last gallery item to window height minus extra\n      galleryItems.last().css('min-height', wh - 110);\n\n      // highlight single post category in menu\n      var singleCat = post.data('cat');\n\n      if (singleCat) {\n        $('li.cat-item-' + singleCat).addClass('current-cat');\n      }\n\n    }\n\n    if (bodySingle.length || $('body.page').length) {\n\n      // fade in when images all loaded\n      post.imagesLoaded(function() {\n        $(this).css('opacity', 1);\n      });\n\n      // toggle to display project text\n      var toggleProjectText = $('#toggle-project-text');\n      var viewProjectText = $('#view-project-text');\n      var closeProjectText = $('#close-project-text');\n      var projectText = $('div#project-text');\n\n      toggleProjectText.on({\n        click: function() {\n          if (projectText.data('state') === false) {\n            if (emailShare.data('state') === true) {\n              emailShare.slideUp(1000, function() {\n                emailShare.data('state', false);\n              }).css('opacity', 0);\n            }\n\n            projectText.slideDown(1000, function() {\n              viewProjectText.hide();\n              closeProjectText.show();\n              projectText.data('state', true).ScrollTo();\n            });\n          } else {\n            projectText.slideUp(1000, function() {\n              closeProjectText.hide();\n              viewProjectText.show();\n              projectText.data('state', false);\n              $('.gallery-item-holder').first().ScrollTo();\n            });\n          }\n        },\n      });\n\n      // toggle to display email drawer\n\n      var emailShare = $('#mail');\n\n      $('li#mail-toggle').on({\n        click: function() {\n          if (emailShare.data('state') === false) {\n            if (projectText.data('state') === true) {\n              projectText.slideUp(1000, function() {\n                closeProjectText.hide();\n                viewProjectText.show();\n                projectText.data('state', false);\n              });\n            }\n\n            emailShare.slideDown(1000, function() {\n              emailShare.data('state', true);\n            }).css('opacity', 1).ScrollTo();\n\n          } else {\n            emailShare.slideUp(1000, function() {\n              emailShare.data('state', false);\n            }).css('opacity', 0).ScrollTo();\n          }\n        },\n      });\n\n      $('nav#close').on({\n        click: function() {\n          emailShare.css('opacity', 0);\n          setTimeout(function() {\n            emailShare.css('z-index', '-1');\n          }, 1000);\n        },\n      });\n\n      // add indicators to header\n      var galleryIndicators = $('#gallery-indicators');\n\n      if (galleryIndicators.length) {\n        var indicators = '';\n\n        for (i = 0; i < galleryLength; i++) {\n          indicators = indicators + '<li><a>&bull;</a></li>';\n        }\n\n        galleryIndicators.append(indicators);\n        galleryIndicators.children('li').on({\n          click: function() {\n            var i = $(this).index();\n\n            galleryItems.eq(i).ScrollTo();\n          },\n        });\n      }\n      // init scrollorama\n      var scrollorama = $.scrollorama({\n        enablePin: false,\n        blocks: '.gallery-item',\n      });\n\n      // gallery caption toggle\n      $('.gallery-caption-toggle').on({\n        mouseenter: function() {\n          $(this).siblings('.gallery-caption').css('opacity', 1);\n        },\n\n        mouseleave: function() {\n          $(this).siblings('.gallery-caption').css('opacity', 0);\n        },\n      });\n\n      // scroller to next on gallery item click, and back to start on bottom click\n      galleryItems.on({\n        click: function() {\n          var index = $(this).index();\n\n          if (index === galleryLength - 1) {\n            galleryItems.first().ScrollTo();\n          } else {\n            galleryItems.eq(index + 1).ScrollTo();\n          }\n        },\n      });\n\n      // scroll up on topbar click\n      $('nav#scroll-up').on({\n        click: function() {\n          galleryItems.eq(scrollorama.blockIndex).ScrollTo();\n        },\n      });\n\n    }\n  });"],"sourceRoot":"/source/"}